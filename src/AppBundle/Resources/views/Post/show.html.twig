{% extends 'base.html.twig' %}
{% block body %}
<div class="blog-post-body-container center-block" id="single-post-container" style="padding: 100px; background-color: #eafffc; margin-top: 50px">
    <h1>{{ post.title }}</h1>
    <img class="center-block" src="{{ post.imageUrl }}">


    <div>
        <p>Post rating: {{ post.rating|number_format(2, '.', ',') }}</p>
        {{ post.text }}
        {% if post.tags is not empty %}
            <p class="text-success text-right">Tags:
                {% for tag in post.tags %}
                    {{ tag.name }}
                {% endfor %}
            </p>

        {% endif %}
    </div>

    <div>

        {% if post.author.smallAvatar is not null %}
            <img src="{{ post.author.smallAvatar }}">
        {% endif %}
        Author: {{ post.author.name }} <p class="text-right text-success">Posted at: {{ post.createdAt|date('d-m-Y') }}</p>

    </div>
    <div class="comments-container">
        <h2 class="bg-info">
            Leave your comment:
        </h2>
        <div class="comment-form">{{ render(controller('AppBundle:Comment:new', {'slug': post.slug})) }}
        </div>

        {% if comments is not empty %}
            {% for comment in comments %}
                <h4 class="bg-warning">{{ comment.commentAuthor }}({{ comment.createdAt|date('d-m-Y') }} at {{ comment.createdAt|date('H:m:s') }}):</h4>
                <p>
                    {{ comment.text }}
                </p>
            {% endfor %}
        {% endif %}
    </div>

</div>
{% endblock %}